<!doctype html><html lang=en><head><title>Chrsistmas Lights · Noah Virjee
</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Noah Virjee"><meta name=description content="All code can be found here: https://github.com/blucardin/Lights-
Explanation video can be found here: https://youtu.be/PH5mAJPhH-c
I submit this project as the final project of CS50x.
In this project, I displayed videos and images on an addressable set of Christmas lights. I used a raspberry pi running python to control the lights. It would accept a numpy array of frames from my computer over ssh. Each frame would be a 2d array of RGB values which the pi would then encode and send to the lights over serial."><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="Chrsistmas Lights"><meta name=twitter:description content="All code can be found here: https://github.com/blucardin/Lights-
Explanation video can be found here: https://youtu.be/PH5mAJPhH-c
I submit this project as the final project of CS50x.
In this project, I displayed videos and images on an addressable set of Christmas lights. I used a raspberry pi running python to control the lights. It would accept a numpy array of frames from my computer over ssh. Each frame would be a 2d array of RGB values which the pi would then encode and send to the lights over serial."><meta property="og:url" content="https://blucardin.github.io/projects/chrsistmas-lights/"><meta property="og:site_name" content="Noah Virjee"><meta property="og:title" content="Chrsistmas Lights"><meta property="og:description" content="All code can be found here: https://github.com/blucardin/Lights-
Explanation video can be found here: https://youtu.be/PH5mAJPhH-c
I submit this project as the final project of CS50x.
In this project, I displayed videos and images on an addressable set of Christmas lights. I used a raspberry pi running python to control the lights. It would accept a numpy array of frames from my computer over ssh. Each frame would be a 2d array of RGB values which the pi would then encode and send to the lights over serial."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="projects"><meta property="article:published_time" content="2023-02-27T00:00:00+00:00"><meta property="article:modified_time" content="2023-02-27T00:00:00+00:00"><link rel=canonical href=https://blucardin.github.io/projects/chrsistmas-lights/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.5adbe72fc41dcfb852215b84695288939b6b606db73238bd3ee936469572fc9c.css integrity="sha256-WtvnL8Qdz7hSIVuEaVKIk5trYG23Mji9Puk2RpVy/Jw=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>Noah Virjee
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/about/>About</a></li><li class=navigation-item><a class=navigation-link href=/projects/>Projects</a></li><li class=navigation-item><a class=navigation-link href=/contact/>Contact me</a></li></ul></section></nav><div class=content><section class="container page"><article><header><h1 class=title><a class=title-link href=https://blucardin.github.io/projects/chrsistmas-lights/>Chrsistmas Lights</a></h1></header><iframe width=100% height=315 src=https://www.youtube.com/embed/QYq8xs7KNvo title="YouTube video player" frameborder=0 allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><p>All code can be found here: <a href=https://github.com/blucardin/Lights- class=external-link target=_blank rel=noopener>https://github.com/blucardin/Lights-</a></p><p>Explanation video can be found here: <a href=https://youtu.be/PH5mAJPhH-c class=external-link target=_blank rel=noopener>https://youtu.be/PH5mAJPhH-c</a></p><p>I submit this project as the final project of CS50x.</p><p>In this project, I displayed videos and images on an addressable set of Christmas lights.
I used a raspberry pi running python to control the lights. It would accept a numpy array of frames from my computer over ssh. Each frame would be a 2d array of RGB values which the pi would then encode and send to the lights over serial. Finally, it would take an image using a camera and save it to a folder so that I could convert the frames back to a video.</p><p>At first, I struggled with serial communication. I started with an arduino to control the lights, and it worked fine. However, when I switched to a raspberry pi, the lights would not work; they became unstable. Most times, they would not accept signals from the py, when they did, the wrong light would light up.</p><p>I realized that the arduino was sending 5v signals which would be read fine by the 12v lights over the I2C connection, but the pi was sending 3.3v signals which wouldn&rsquo;t be picked up by the lights. I had to use a level shifter to convert the signals. After it arrived in the mail, I was good to go.</p><p>I also faced issues with determining the positions of the lights. The way I was able to display images was by determining the position of each light and then mapping the pixels of the image to the lights. I did this by taking a picture of the lights and then using an algorithm to determine the position of each light.
This algorithm was not perfect. It would apply a gaussian blur to the image, then set the position of the light to the center of the brightest pixel. This would sometimes work, but sometimes the lights would be off by a few pixels. I tried to fix this by changing up the code, but it was not as accurate.</p><p>I quickly realized that there was not enough information needed to determine the position of each light. The only way I could fix this was to create a neural network to determine the position of each light. Not only did I not know how to do this, but learning machine learning would take too much time. So I opted to use a pre-trained neural network: my brain. For 15 minutes I clicked the position of every light in order, this gave me very accurate results.</p><p>In the end, I got a very good result. My program was able to play back video in near-original time (30fps). Since I only had 500 lights, the resolution was not very good, but it was still very impressive for just a raspberry pi and camera.</p><p>In the future, I would like to try putting the lights on an actual Christmas tree or bush to simulate real Christmas lights.</p></article></section></div><footer class=footer><section class=container>©
2022 -
2024
Noah Virjee
·
Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZQXMHVPTE6"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZQXMHVPTE6")</script></body></html>